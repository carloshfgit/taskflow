<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskFlow – Organize suas tarefas</title>

    <!-- Fonte Inter -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

</head>

<body>
    <!-- ============ HEADER ============ -->
    <header class="header">
        <div class="logo">
            <h1>TaskFlow</h1>
        </div>

        <nav class="nav">
            {% if current_user.is_authenticated %}
                <span class="nav-link" style="cursor: default;">Olá, <strong>{{ current_user.username }}</strong></span>
                
                <a href="{{ url_for('logout') }}" class="nav-link">Sair</a>
                
                <form action="{{ url_for('delete_account') }}" method="POST" style="display:inline;" onsubmit="return confirm('Tem certeza? Todas as suas tarefas serão apagadas permanentemente.');">
                    <button type="submit" class="nav-link" style="background:none; border:none; color: #EF4444; cursor:pointer; font-size: 16px; font-weight: 500;">
                        Excluir Conta
                    </button>
                </form>

            {% else %}
                <a href="{{ url_for('login') }}" class="nav-link">Login</a>
            {% endif %}
        </nav>
    </header>

    <!-- ============ HERO / SECTION DE APRESENTAÇÃO ============ -->
    <section class="hero">
        <div class="hero-content">
            <h2 class="hero-title">Organize seu fluxo de trabalho com clareza</h2>
            <p class="hero-subtitle">
                Simplifique sua rotina, visualize suas tarefas e aumente sua produtividade com o TaskFlow.
            </p>
            <button id="btn-start" class="btn-primary">Nova Tarefa</button>
        </div>
    </section>

    <!-- ============ PAINEL KANBAN ============ -->
    <main class="kanban-container">

        <!-- COLUNA: TO DO -->
        <div class="kanban-column" data-status="todo">
            <div class="column-header">
                <h3>To Do</h3>
                <button class="add-task-btn">+</button>
            </div>
            <div class="task-list" id="todo-list">
                <!-- Cards de tarefas renderizados via JS -->
            </div>
        </div>

        <!-- COLUNA: DOING -->
        <div class="kanban-column" data-status="doing">
            <div class="column-header">
                <h3>Doing</h3>
                <button class="add-task-btn">+</button>
            </div>
            <div class="task-list" id="doing-list">
                <!-- JS insere cards -->
            </div>
        </div>

        <!-- COLUNA: DONE -->
        <div class="kanban-column" data-status="done">
            <div class="column-header">
                <h3>Done</h3>
                <button class="add-task-btn">+</button>
            </div>
            <div class="task-list" id="done-list">
                <!-- JS insere cards -->
            </div>
        </div>

    </main>

    <!-- ============ MODAL DE NOVA TAREFA (dinâmico via JS) ============ -->
    <div id="task-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Nova Tarefa</h3>

            <label>Título</label>
            <input type="text" id="task-title" placeholder="Digite o título..." />

            <label>Descrição</label>
            <textarea id="task-desc" placeholder="Digite a descrição..."></textarea>

            <button id="save-task-btn" class="btn-primary">Salvar</button>
            <button id="close-modal-btn" class="btn-secondary">Cancelar</button>
        </div>
    </div>

    <!-- JS -->
    <!-- JS -->
<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
